@(votdForm: Form[models.votd.VotdFormData])(implicit messages: Messages)

@implicitFieldConstructor = @{ b3.horizontal.fieldConstructor("col-md-2", "col-md-8") }

@main("Create Verse of the Day") {

    <div class="well">
        <h1>Create New VOTD</h1>
            @b3.form(routes.Votds.create) {
                @b3.text(votdForm("versestart"), '_label -> "Verse Start", 'placeholder -> "1+John+1:2")
                @b3.text(votdForm("verseend"), '_label -> "Verse End", 'placeholder -> "1+John+1:3")
                @b3.text(votdForm("themes"), '_label -> "Themes", 'placeholder -> "love, faith, kindness")
                @b3.submit('class -> "btn btn-primary"){Continue}
    }
        @b3.free(){<button id="retrieveverse" data-toggle="modal" data-target="#versemodal" class="btn btn-default">Get External Content</button>}
    </div>
    <div id="versemodal" class="modal fade" style="display: none">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button class="close" aria-hidden="true" type="button" data-dismiss="modal">Ã—</button>
                    <h4 class="modal-title">Verse(s) Retrieved....is this right?</h4>
                </div>
                <div id=verseretrieved class="modal-body">
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" type="button" data-dismiss="modal">Close</button>
                    <button class="btn btn-primary" type="button">Save changes</button>
                </div>
            </div>
        </div>
    </div>

    <script>
            $("#retrieveverse").click(function(){
                $.ajax({
                    url: "/votd/getverse",
                    cache: false,
                    data: {
                        versestart: "",
                        verseend: ""
                    },
                    success: function( data ) {
                        $( "#verseretrieved" ).html( "<strong>" + data + "</strong> " );
                    },
                    error: function(errorThrown){
                        console.error(errorThrown)
                    }
                });
            });
    </script>
}